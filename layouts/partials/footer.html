
<div class="site-footer">
  <div class="copyright">{{ .Site.Copyright | safeHTML }}</div>
  <ul class="site-footer-items">
    {{- with .OutputFormats.Get "RSS" }}
    <li class="site-footer-item-rsslink">
      <a href="{{ .RelPermalink }}" type="application/rss+xml" target="_blank" title="RSS">
        <i class="fa-solid fa-rss"></i>
      </a>
    </li>
    {{- end }}
        {{- range .Site.Menus.footer }}
    <li class="site-footer-item-{{ .Identifier }}"><a href="{{ .URL | safeURL }}" title="{{ .Name }}">{{ .Name }}</a></li>
    {{- end }}
  </ul>
  <div class="powerdby">
    Powered by <a href="https://gohugo.io/">Hugo</a> and <a href="https://github.com/taikii/whiteplain">Whiteplain</a>
  </div>
</div>
{{ template "_internal/google_analytics.html" . }}

<script>
document.addEventListener("DOMContentLoaded", function () {
  const elements = document.querySelectorAll(".typed-text");

  elements.forEach((el) => {
    const speed = parseInt(el.dataset.typedSpeed || "50", 10);
    const pause = parseInt(el.dataset.typedPause || "600", 10);

    // Take the existing HTML as the source for lines, then clear it
    const raw = el.innerHTML.trim();
    const lines = raw.split(/<br\s*\/?>/i).map(s => s.trim());
    el.innerHTML = "";

    let lineIndex = 0;
    let charIndex = 0;

    function typeLine() {
      const line = lines[lineIndex];

      if (charIndex >= line.length) {
        // done with this line
        lineIndex++;
        if (lineIndex < lines.length) {
          setTimeout(() => {
            el.insertAdjacentHTML("beforeend", "<br>");
            charIndex = 0;
            typeLine();
          }, pause);
        }
        return;
      }

      // If the next character begins an HTML tag, insert the whole tag at once
      if (line[charIndex] === "<") {
        const end = line.indexOf(">", charIndex);
        const tag = line.slice(charIndex, end + 1);
        el.insertAdjacentHTML("beforeend", tag);
        charIndex = end + 1;
      } else {
        el.insertAdjacentText("beforeend", line[charIndex]);
        charIndex++;
      }

      setTimeout(typeLine, speed);
    }

    typeLine();
  });
});
</script>
